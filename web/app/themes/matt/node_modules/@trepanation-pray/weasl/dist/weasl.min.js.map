{"version":3,"sources":["weasl.js"],"names":["weaslOpen","content","name","style","padding","width","weaslBuilt","document","createEvent","initEvent","modal","overlay","createElement","container","close","classList","add","setAttribute","addEventListener","event","target","this","body","querySelector","dataset","preventDefault","weaslClose","maxWidth","innerHTML","appendChild","dispatchEvent","weaslOpened","weaslClosed","weaslClosedName","remove","setTimeout","weasl","options","weaslInit","e","focus","matches"],"mappings":"AAAA,SAAAA,UAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAEA,IAAAC,EAAAC,SAAAC,YAAA,SACAF,EAAAG,UAAA,cAAA,GAAA,GAGA,IAAAC,EAAA,CACAC,QAAAJ,SAAAK,cAAA,OACAC,UAAAN,SAAAK,cAAA,OACAX,QAAAM,SAAAK,cAAA,OACAE,MAAAP,SAAAK,cAAA,WAKAF,EAAAC,QAAAI,UAAAC,IAAA,SACAN,EAAAC,QAAAI,UAAAC,IAAA,eAAAd,GACAQ,EAAAC,QAAAM,aAAA,YAAAf,GACAQ,EAAAC,QAAAO,iBACA,QACA,SAAAC,GACA,GAAAA,EAAAC,SAAAC,KAAA,CACA,IAAAnB,EAAAK,SAAAe,KAAAC,cAAA,UAAAC,QAAAtB,KACAiB,EAAAM,iBACAC,WAAAP,EAAAjB,MAEA,GAGAC,GACAO,EAAAC,QAAAI,UAAAC,IAAAb,GAGAO,EAAAG,UAAAE,UAAAC,IAAA,oBACAN,EAAAG,UAAAI,aAAA,OAAA,UACAP,EAAAG,UAAAI,aAAA,WAAA,KAEAb,IACAM,EAAAG,UAAAV,MAAAC,QAAAA,GAEAC,IACAK,EAAAG,UAAAV,MAAAwB,SAAAtB,GAGAK,EAAAT,QAAAc,UAAAC,IAAA,kBAEAN,EAAAT,QAAA2B,UAAA3B,EAEAS,EAAAI,MAAAC,UAAAC,IAAA,gBACAN,EAAAI,MAAAG,aAAA,OAAA,UACAP,EAAAI,MAAAG,aAAA,QAAA,eACAP,EAAAI,MAAAG,aAAA,WAAA,KACAP,EAAAI,MAAAI,iBACA,QACA,SAAAC,GACA,GAAAA,EAAAC,SAAAC,KAAA,CACA,IAAAnB,EAAAK,SAAAe,KAAAC,cAAA,UAAAC,QAAAtB,KACAiB,EAAAM,iBACAC,WAAAP,EAAAjB,MAEA,GAIAQ,EAAAC,QAAAkB,YAAAnB,EAAAG,WACAH,EAAAG,UAAAgB,YAAAnB,EAAAT,SACAS,EAAAG,UAAAgB,YAAAnB,EAAAI,OACAP,SAAAe,KAAAO,YAAAnB,EAAAC,SAGAJ,SAAAuB,cAAAxB,GAIA,IAAAyB,YAAAxB,SAAAC,YAAA,SAqBA,SAAAkB,WAAAP,EAAAjB,GACA,IAAA8B,EAAAzB,SAAAC,YAAA,SACAwB,EAAAvB,UAAA,eAAA,GAAA,GAEA,IAAAwB,EAAA1B,SAAAC,YAAA,SACAyB,EAAAxB,UAAA,mBAAA,GAAA,GAGAF,SAAAe,KAAAP,UAAAmB,OAAA,iBAIAC,WAAA,WACA5B,SAAAe,KAAAC,cAAA,UAAAW,UACA,KAGA3B,SAAAuB,cAAAE,GACAzB,SAAAuB,cAAAG,GAeA,SAAAG,MAAAC,GAEA,IAAAC,EAAA/B,SAAAC,YAAA,SACA8B,EAAA7B,UAAA,aAAA,GAAA,GAGAF,SAAAuB,cAAAQ,GAEA,IAAApC,EAAAmC,EAAAnC,KAMAF,UALAqC,EAAApC,QAKAC,EAJAmC,EAAAlC,MACAkC,EAAAjC,QACAiC,EAAAhC,OAjEA0B,YAAAtB,UAAA,eAAA,GAAA,GAEAF,SAAAW,iBACA,aACA,SAAAqB,GACAJ,WAAA,WACA5B,SAAAe,KAAAP,UAAAC,IAAA,kBACA,GACAmB,WAAA,WAEA5B,SAAAe,KAAAC,cAAA,qBAAAiB,QAEAjC,SAAAuB,cAAAC,cACA,OAEA,GA0BAxB,SAAAW,iBACA,QACA,SAAAC,GACA,GAAAA,EAAAC,OAAAqB,QAAA,wBAAA,CACA,IAAAvC,EAAAK,SAAAe,KAAAC,cAAA,UAAAC,QAAAtB,KACAiB,EAAAM,iBACAC,WAAAP,EAAAjB,MAEA","file":"weasl.min.js","sourcesContent":["function weaslOpen(content, name, style, padding, width) {\n\t//Declare Built event\n\tvar weaslBuilt = document.createEvent(\"Event\");\n\tweaslBuilt.initEvent(\"weaslBuilt\", true, true);\n\n\t// Create the modal structure\n\tvar modal = {\n\t\toverlay: document.createElement(\"div\"),\n\t\tcontainer: document.createElement(\"div\"),\n\t\tcontent: document.createElement(\"div\"),\n\t\tclose: document.createElement(\"button\")\n\t};\n\n\t//Add classes and attributes\n\n\tmodal.overlay.classList.add(\"weasl\");\n\tmodal.overlay.classList.add(\"weasl--name-\" + name);\n\tmodal.overlay.setAttribute(\"data-name\", name);\n\tmodal.overlay.addEventListener(\n\t\t\"click\",\n\t\tfunction(event) {\n\t\t\tif (event.target !== this) return;\n\t\t\tvar name = document.body.querySelector(\".weasl\").dataset.name;\n\t\t\tevent.preventDefault();\n\t\t\tweaslClose(event, name);\n\t\t},\n\t\tfalse\n\t);\n\n\tif (style) {\n\t\tmodal.overlay.classList.add(style);\n\t}\n\n\tmodal.container.classList.add(\"weasl__container\");\n\tmodal.container.setAttribute(\"role\", \"dialog\");\n\tmodal.container.setAttribute(\"tabindex\", \"0\");\n\n\tif (padding) {\n\t\tmodal.container.style.padding = padding;\n\t}\n\tif (width) {\n\t\tmodal.container.style.maxWidth = width;\n\t}\n\n\tmodal.content.classList.add(\"weasl__content\");\n\n\tmodal.content.innerHTML = content;\n\n\tmodal.close.classList.add(\"weasl__close\");\n\tmodal.close.setAttribute(\"type\", \"button\");\n\tmodal.close.setAttribute(\"title\", \"Close modal\");\n\tmodal.close.setAttribute(\"tabindex\", \"0\");\n\tmodal.close.addEventListener(\n\t\t\"click\",\n\t\tfunction(event) {\n\t\t\tif (event.target !== this) return;\n\t\t\tvar name = document.body.querySelector(\".weasl\").dataset.name;\n\t\t\tevent.preventDefault();\n\t\t\tweaslClose(event, name);\n\t\t},\n\t\tfalse\n\t);\n\n\t// Add modal structure to dom\n\tmodal.overlay.appendChild(modal.container);\n\tmodal.container.appendChild(modal.content);\n\tmodal.container.appendChild(modal.close);\n\tdocument.body.appendChild(modal.overlay);\n\n\t// Dispatch the built event.\n\tdocument.dispatchEvent(weaslBuilt);\n}\n\n//Declare opened event\nvar weaslOpened = document.createEvent(\"Event\");\nweaslOpened.initEvent(\"weaslOpened\", true, true);\n// Activate Modal\ndocument.addEventListener(\n\t\"weaslBuilt\",\n\tfunction(e) {\n\t\tsetTimeout(function() {\n\t\t\tdocument.body.classList.add(\"weasl--active\");\n\t\t}, 0);\n\t\tsetTimeout(function() {\n\t\t\t//Set focus\n\t\t\tdocument.body.querySelector(\".weasl__container\").focus();\n\t\t\t// Dispatch the open event.\n\t\t\tdocument.dispatchEvent(weaslOpened);\n\t\t}, 250);\n\t},\n\tfalse\n);\n\n// Close modal\n\nfunction weaslClose(event, name) {\n\tvar weaslClosed = document.createEvent(\"Event\");\n\tweaslClosed.initEvent(\"weaslClosed\", true, true);\n\n\tvar weaslClosedName = document.createEvent(\"Event\");\n\tweaslClosedName.initEvent(\"weaslClosedName\", true, true);\n\n\t// Remove active states from body.\n\tdocument.body.classList.remove(\"weasl--active\");\n\n\t// Remove Content.\n\n\tsetTimeout(function() {\n\t\tdocument.body.querySelector(\".weasl\").remove();\n\t}, 250);\n\n\t// Dispatch the close event.\n\tdocument.dispatchEvent(weaslClosed);\n\tdocument.dispatchEvent(weaslClosedName);\n}\n\ndocument.addEventListener(\n\t\"click\",\n\tfunction(event) {\n\t\tif (!event.target.matches(\".weasl__close-button\")) return;\n\t\tvar name = document.body.querySelector(\".weasl\").dataset.name;\n\t\tevent.preventDefault();\n\t\tweaslClose(event, name);\n\t},\n\tfalse\n);\n\n// Main weasl function\nfunction weasl(options) {\n\t// Declare the intiate event.\n\tvar weaslInit = document.createEvent(\"Event\");\n\tweaslInit.initEvent(\"weaslInit\", true, true);\n\n\t// Dispatch the initiate event.\n\tdocument.dispatchEvent(weaslInit);\n\n\tvar name = options.name,\n\t\tcontent = options.content,\n\t\tstyle = options.style,\n\t\tpadding = options.padding,\n\t\twidth = options.width;\n\n\tweaslOpen(content, name, style, padding, width);\n}\n"]}